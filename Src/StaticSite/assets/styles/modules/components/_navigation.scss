// TODO: Refactor this file

$menu-height: 6em;

.navigation {
    display: none;
    list-style-type: none;
    margin: 0;
    padding: 0;
    height: $menu-height;

    @include large-up {
        display: block;
    }
    &__container {
        width: 100%;
        position: fixed;
        z-index: 1000000;
        height: $menu-height;
        background: linear-gradient(180deg, rgba(0, 0, 0, 0.5) 0%, transparent 100%);

        @include large-up {
            &.open {
                background: $color-menu-98;
            }
            height: 50%;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.5) 0%, transparent 100%);

            // TODO: Add a class when user scrolls down and fade in the
            // darker transparent background
            &.scroll {
                height: $menu-height;
            }
        }
    }

    &__logo {
        width: $menu-height;
        height: $menu-height;
        padding: $space;
    }
    &__btn {
        color: $white;
        font-weight: 700;
        border: none;
        background: transparent;

        @include large-up {
            outline: none;
            height: 100%;
            width: 100%;

            &:hover {
                text-decoration: underline;
            }
            &:active {
                text-decoration: underline;
            }
        }

        &--close {
            display: none;
            z-index: 10000;
            position: fixed; //TODO Look into other solution - fixed in fixed not good
            top: $space-double;
            right: $space;
            color: $white;

            @include large-up {
                top: $menu-height + 1em;
            }
        }
    }

    &__list {
        width: 100%;
        height: 100%;
        background-color: $color-menu-98;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 100;

        padding-top: 5em;

        @include large-up {
            display: block !important;
            left: auto;
            width: auto;
            height: auto;
            background-color: transparent;
            padding-top: 0;
            width: 100%;
        }
    }

    &__item {
        text-align: center;
        width: 100%;
        vertical-align: top;

        @include large-up {
            width: 8em;
            height: $menu-height;
            display: inline-block;
        }

        &.hide {
            display: none;

            @include large-up {
                display: inline-block;
            }
        }
        a {
            display: block;
            color: $white;
            text-decoration: none;
            height: 100%;
            padding: $space;

            // Add class active on the page we are on
            &:active, .active {
                font-weight: 700;
            }

            @include large-up {
                font-weight: 700;
                padding-top: 2.5em;
                line-height: 1;
            }
        }
        > a {
            @include large-up {

                &:hover {
                    color: $color-text-link;
                }
                &:active {
                    color: $color-text-link;
                    text-decoration: underline;
                }
            }
        }
        &:first-of-type {
            > a {
                padding-top: 0;
            }
        }
        button {
            outline: none;
            padding: $space;
            width: 100%;
        }
         @include large-up {
            &:last-of-type {
                //TODO: Look at book button
                width: 12em;
                > a {
                    padding: 1em;
                    margin: 1.5em;
                    height: 3em;
                    color: $color-white !important;
                }
            }
        }
        ul {
            display: none;
            height: 100%;
            padding: 0;
            text-align: center;
            list-style-type: none;

            @include large-up {
                &.open {
                    position: fixed;
                    background-color: $color-menu-98;
                    top: $menu-height;
                    width: 100%;
                    left: 0;
                    z-index: 9;
                }
            }
            a {
                color: $white;
            }
        }
    }

    // This version is only visible on smaller screens than large
    &--medium {
        position: fixed;
        z-index: 2;
        display: block;
        width: 100%;
        top: 0;
        left: 0;
        @include container();

        > li {
            height: 100%;

            a {
                text-decoration: none;
            }
        }
        li:first-of-type {
            position: absolute;
            top: 0;
            left: 0;
            padding-left: $space;
        }
        li:last-of-type {
            width: 75%;
            text-align: right;
            float: right;

            // TODO: Remove this wierd calculation of positon
            a {
                position: absolute;
                top: $space-double;
                right: rem(44px*2);
            }
            button {
                margin-top: $space-double;
                margin-right: $space;
            }
        }

        @include large-up {
            display: none;
        }
    }
}
[data-menu-more] {
    &:after {
        content: "";
        background-image: url('/assets/images/icon_arrow.svg');
        background-position: 50% 50%;
        background-repeat: no-repeat;
        background-size: contain;
        display: inline-block;
        vertical-align: middle;
        width: rem(16px);
        height: rem(16px);
        margin-left: $space;
        -webkit-transition: all 300ms 0s ease-in-out;
        transition: all 300ms 0s ease-in-out;
    }
    &.open {
        font-weight: 700;

        &:after {
            transform: rotate(180deg);
        }
    }
}